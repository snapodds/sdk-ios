<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Guide  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Guide  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SnapscreenFramework 1.0 Docs
        </a>
         (100% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SnapscreenFramework Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      Guide  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="guide.html">Guide</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapConfiguration.html">SnapConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapViewController.html">SnapViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Snapscreen.html">Snapscreen</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenFingerprintResult.html">SnapscreenFingerprintResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenQuadrangle.html">SnapscreenQuadrangle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenUIConfiguration.html">SnapscreenUIConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SportEventSnapResultEntry.html">SportEventSnapResultEntry</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SnapOddsOfferType.html">SnapOddsOfferType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SnapOddsOutcomeType.html">SnapOddsOutcomeType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SnapscreenEnvironment.html">SnapscreenEnvironment</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SnapscreenSnapDelegate.html">SnapscreenSnapDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsCompetitor.html">SnapOddsCompetitor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsOffer.html">SnapOddsOffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsOutcome.html">SnapOddsOutcome</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsPlayer.html">SnapOddsPlayer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsResult.html">SnapOddsResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SnapOddsSportBook.html">SnapOddsSportBook</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SportEvent.html">SportEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SportEventCompetitor.html">SportEventCompetitor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TvChannel.html">TvChannel</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h2 id='documentation' class='heading'>Documentation</h2>

<p>For the full API documentation go to <a href="https://snapodds.github.io/snapscreen-ios">https://snapodds.github.io/snapscreen-ios</a></p>
<h2 id='support' class='heading'>Support</h2>

<p>In case of any questions or problems please contact us at <a href="mailto:support@snapscreen.com">support@snapscreen.com</a>.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<p>Snapscreen requires at least <strong>iOS 13</strong>.</p>
<h2 id='integrating-snapscreen' class='heading'>Integrating Snapscreen</h2>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p>Integration via SwiftPM is the easiest and recommended way to use Snapscreen. Add the following to your Package.swift file</p>
<pre class="highlight plaintext"><code>dependencies: [
    .package(url: "https://github.com/snapodds/snapscreen-ios.git", .upToNextMajor(from: "2.0.0"))
]
</code></pre>
<h3 id='xcframeworks' class='heading'>XCFrameworks</h3>

<p>SnapscreenFramework is provided as an iOS xcframework and bundles everything necessary for it to operate.</p>
<h4 id='add-the-snapscreenframework-xcframework' class='heading'>Add the SnapscreenFramework xcframework</h4>

<p>Drag the SnapscreenFramework xcframework file to your iOS project. Xcode should automatically add it to the project&rsquo;s <strong>Frameworks, Libraries, and Embedded Content</strong> section in your General Settings. Make sure to change the <strong>Embed</strong> setting to <strong>Embed &amp; Sign</strong>.</p>
<h2 id='using-snapscreen' class='heading'>Using Snapscreen</h2>
<h3 id='obtain-a-client-id-and-secret' class='heading'>Obtain a client ID and secret</h3>

<p>Contact Snapscreen to get a clientID and secret for your application.</p>
<h3 id='import-snapscreenframework' class='heading'>Import SnapscreenFramework</h3>

<p>Add the following line to all classes where you want to access the SnapscreenFramework functionality.</p>
<pre class="highlight plaintext"><code>import SnapscreenFramework
</code></pre>
<h3 id='add-camera-permission-usage-description-if-necessary' class='heading'>Add Camera Permission Usage Description if necessary</h3>

<p>If you want to access the snapping functionality, starting with iOS 10 it is required by provide a usage description for the camera. This can be done by adding the key <strong>NSCameraUsageDescription</strong> in your application&rsquo;s Info.plist.</p>
<h3 id='initialize-snapscreenframework' class='heading'>Initialize SnapscreenFramework</h3>

<p>In order to initialize Snapscreen, you need to call the following class method in your AppDelegate in application:didFinishLaunchingWithOptions:</p>
<pre class="highlight plaintext"><code>Snapscreen.setup(withClientId: "your-client-id", clientSecret: "your-client-secret", environment: .production)
</code></pre>

<p>If you are provided with a custom backend URL by Snapscreen, you can use the following method to initalize the SDK:</p>
<pre class="highlight plaintext"><code>Snapscreen.setup(withClientId: "your-client-id", clientSecret: "your-client-secret", backendURL: "url")
</code></pre>

<p>If preferred, you can additionally set the country and usState information based on your user&rsquo;s location:</p>
<pre class="highlight plaintext"><code>Snapscreen.instance?.country = "US"
Snapscreen.instance?.usState = "NJ"
</code></pre>

<p>Once you have initialized Snapscreen, you can also retrieve it by calling</p>
<pre class="highlight plaintext"><code>Snapscreen.instance
</code></pre>
<h2 id='snapping-sports-content' class='heading'>Snapping Sports content</h2>

<p>In order to snap a TV image and search for Sport event, you need to create and present an instance of <strong>SnapViewController</strong>. You can customize the snap settings by configured the <strong>SnapConfiguration</strong> you pass to the initializer. The <strong>SnapscreenSnapDelegate</strong> will receive a callback once a sport event was successfully snapped.</p>

<p>It is recommended that you present the SnapViewController in a UINavigationController. </p>

<p>Additionally you need to configure the cancel navigation item if you want to provide the user with the option to cancel the Snap.</p>
<pre class="highlight plaintext"><code>let snapViewController = SnapViewController(configuration: SnapConfiguration(), snapDelegate: self)
snapViewController.isModalInPresentation = true
snapViewController.navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .cancel, target: self, action: #selector(cancelSnap))
self.present(UINavigationController(rootViewController: snapViewController), animated: true, completion: nil)
</code></pre>

<p>Once a sport event was successfully snapped, the following method is called in your SnapscreenSnapDelegate:</p>
<pre class="highlight plaintext"><code>func snapscreenSnapViewController(_ viewController: SnapViewController, didSnapSportEvent sportEvent: SportEventSnapResultEntry) -&gt; Bool {
  return true
}
</code></pre>

<p>The boolean return value indicates if you want the <strong>SnapViewController</strong> to immediately stop snapping. This is most likely the case since you want to present some follow-up UI for the found sport event.</p>

<p>Before you present the Snap UI, we recommend that you ask for the permission to use the camera with the following code snippet and only redirect the user to the Snap UI when the permission has been granted.</p>
<pre class="highlight plaintext"><code>let status = AVCaptureDevice.authorizationStatus(for: .video)
switch status {
  case .authorized:
      presentSnap()
  case .notDetermined:
      AVCaptureDevice.requestAccess(for: .video) { [weak self] (granted) in
          DispatchQueue.main.async { [weak self] in
              if granted {
                  self?.presentSnap()
              } else {
                  presentAlertWithLinkToSettings()
              }
          }
      }
  case .denied: fallthrough
  case .restricted:
      presentAlertWithLinkToSettings()
  @unknown default:
      presentSnap()
}
</code></pre>
<h2 id='fetching-odds-for-a-sport-event' class='heading'>Fetching Odds for a sport event</h2>

<p>In order to fetch odds for a sport event provided by Snapscreen in a consolidated form, you can use the following call to SnapscreenFramework:</p>
<pre class="highlight plaintext"><code>Snapscreen.instance?.getOddsForSportEvent(withId: sportEventId, completion: { [weak self] result in
}
</code></pre>

<p>The completion block is called either with a valid result or nil. See the documentation for the structure and content of the returned result.</p>

<p>Please note that for fetching odds via Snapscreen we highly recommend setting the <strong>country</strong> and <strong>usState</strong> fields on the snapscreen instance to receive accurate results.</p>
<h2 id='customization-ui-amp-localization' class='heading'>Customization - UI &amp; Localization</h2>

<p>If you want to customize any aspect of the <strong>SnapViewController</strong>, including displayed messages as well as colors, you can use the <strong>SnapscreenUIConfiguration</strong> object on the Snapscreen instance.</p>
<pre class="highlight plaintext"><code>Snapscreen.instance?.uiConfiguration.primaryColor = UIColor.red
</code></pre>

<p>Make sure to do all your desired customizations before presenting a SnapViewController.
You can also modify the configuration between presentations of the SnapViewController. Modifications while the ViewController is present are not guaranteed to be respected.</p>
<h2 id='note-about-apple-silicon-simulators' class='heading'>Note about Apple Silicon Simulators</h2>

<p>Please note that SnapscreenFramework current only includes simulator architecture for i386_x86 and not arm64 which means you currently cannot run an app with SnapscreenFramework included on iOS simulators on Apple Silicon Macs. As a workaround you can either use your app on a device or run Xcode via Rosetta to force the simulator to run with i386_x86.</p>

<p>We are working on an update to the SDK to also include arm64 architecture for the iOS simulator.</p>
<h2 id='example' class='heading'>Example</h2>

<p>For a sample using the Snapscreen SDK, see the included Example project and reconfigure with your own client ID and secret before running.</p>
<h2 id='support' class='heading'>Support</h2>

<p>In case of any questions or problems please contact us at <a href="mailto:support@snapscreen.com">support@snapscreen.com</a>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://snapscreen.com" target="_blank" rel="external noopener">Snapscreen</a>. All rights reserved. (Last updated: 2021-12-01)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
